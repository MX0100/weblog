# WeBlog Frontend (React + TypeScript + Vite)

WeBlog is a modern blogging/social platform supporting user registration, posting, commenting, relationship pairing, and real-time notifications. The frontend is built with React + TypeScript + Vite, supporting hot module replacement, modular development, and cloud CI/CD deployment.

## 🚀 Tech Stack

- **React 18**
- **TypeScript**
- **Vite**
- **React Router**
- **Quill/React-Quill** (Rich Text Editor)
- **WebSocket** (Real-time notifications)
- **AWS S3 + CloudFront** (Production static hosting)

## ✨ Main Features

- User registration, login, logout
- User profile management
- Post creation, editing, deletion, commenting
- Pair request, relationship history, management
- Real-time WebSocket notifications (pairing, comments, posts, etc.)
- Responsive design for desktop and mobile

## 🛠️ Local Development

1. **Install dependencies**
   ```bash
   npm install
   ```
2. **Configure environment variables**

   - Copy `env.example` to `.env.local` and edit as needed:
     ```bash
     cp env.example .env.local
     ```
   - By default, API is at `http://localhost:8080`, WebSocket at `ws://localhost:8080/ws`

3. **Start the dev server**
   ```bash
   npm run dev
   ```
   Visit [http://localhost:5173](http://localhost:5173)

## 🌐 Production Deployment

- Production is built and deployed automatically via GitHub Actions to AWS S3 + CloudFront.
- Just push code to the `master` branch and CI/CD will:
  - Build the frontend
  - Upload to S3
  - Invalidate CloudFront cache

## ⚙️ Environment Variables

| Variable               | Description                    | Example/Default               |
| ---------------------- | ------------------------------ | ----------------------------- |
| VITE_API_BASE_URL      | Backend API base URL           | http://localhost:8080         |
| VITE_WS_URL            | WebSocket URL                  | ws://localhost:8080/ws        |
| VITE_CLOUDFRONT_DOMAIN | CloudFront domain              | dcyz06osekbqs.cloudfront.net  |
| VITE_S3_BUCKET         | S3 bucket name                 | weblog-frontend-20250721-3566 |
| VITE_AWS_REGION        | AWS region                     | us-west-2                     |
| VITE_APP_TITLE         | App title                      | WeBlog                        |
| VITE_ENV_NAME          | Environment (local/production) | local                         |
| VITE_ENABLE_DEBUG      | Enable debug mode              | true                          |

## 🧩 Project Structure

```
WeBlog-frontend/
├── public/                # Static assets
├── src/
│   ├── assets/            # Images, SVGs, etc.
│   ├── components/        # Pages and UI components
│   ├── services/          # API wrappers
│   ├── types/             # TypeScript type definitions
│   ├── utils/             # Utility functions
│   ├── styles/            # Global styles
│   └── main.tsx           # App entry point
├── env.example            # Environment variable example
├── package.json           # Dependencies and scripts
└── README.md              # Project documentation
```

## 🐞 Troubleshooting

- **WebSocket not connecting?**
  - Check if CloudFront supports `wss` (WebSocket Secure) and behavior allows WebSocket traffic. Make sure backend security group/ports are open.
  - Check if `VITE_WS_URL` is correct.
  - Use browser console for error details.
- **API 404/401 errors?**
  - Check backend context-path config; production should not have duplicate `/api`.
  - Check CORS config; CloudFront domain must be allowed by backend.
- **Blank page or frontend errors?**
  - Check environment variables, API addresses, and build logs.

## 📞 Contact & Support

For questions, contact the project maintainer or open an issue.

---

_This documentation is auto-generated by AI Assistant. Feel free to improve it!_
