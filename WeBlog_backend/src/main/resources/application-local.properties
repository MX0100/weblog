# ======================================
# Local Development Environment Configuration
# ======================================
# This profile is activated when ENV=local (default)
# Optimized for fast development with hot reload

# ======================================
# Data Initialization & Persistence
# ======================================
# ğŸ”„ å¼€å‘ç¯å¢ƒï¼šä½¿ç”¨Hibernateç®¡ç†è¡¨ç»“æ„ï¼Œç¦ç”¨Flyway
spring.jpa.hibernate.ddl-auto=update
spring.sql.init.mode=never

# ğŸš« å¼€å‘ç¯å¢ƒç¦ç”¨Flywayï¼ˆé¿å…ä¸Hibernateå†²çªï¼‰
spring.flyway.enabled=false

# ğŸ—ƒï¸ å¯é€‰ï¼šå¦‚éœ€è¦æ¸…ç©ºæ•°æ®åº“ï¼Œæ”¹ä¸º create-drop
# spring.jpa.hibernate.ddl-auto=create-drop

# ======================================
# JPA Configuration (å¼€å‘ä¼˜åŒ–)
# ======================================
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# ğŸš€ å¼€å‘æ€§èƒ½ä¼˜åŒ–
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.connection.autocommit=false

# ======================================
# Development Tools (çƒ­éƒ¨ç½²ä¼˜åŒ–)
# ======================================
# ğŸ”¥ çƒ­é‡è½½é…ç½®
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.devtools.restart.poll-interval=1000
spring.devtools.restart.quiet-period=400

# ğŸ¯ ç›‘å¬æ–‡ä»¶å˜åŒ–
spring.devtools.restart.additional-paths=src/main/java,src/main/resources
spring.devtools.restart.exclude=META-INF/maven/**,META-INF/resources/**,resources/**,static/**,public/**,templates/**

# ğŸ³ Dockerç¯å¢ƒä¼˜åŒ–
spring.devtools.remote.secret=weblog-dev-secret
spring.devtools.restart.trigger-file=.reloadtrigger

# ======================================
# Server Configuration (å¼€å‘ä¼˜åŒ–)
# ======================================
# ğŸ“¡ å¼€å‘æœåŠ¡å™¨é…ç½®
server.port=8080
server.servlet.context-path=
server.compression.enabled=false
server.error.include-stacktrace=always
server.error.include-message=always

# ======================================
# Logging Configuration (å¼€å‘è¯¦ç»†)
# ======================================
logging.level.root=INFO
logging.level.io.github.mx0100.weblog=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.springframework.boot.devtools=DEBUG

# ğŸ“ æ§åˆ¶å°æ—¥å¿—æ ¼å¼
logging.pattern.console=%clr(%d{HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}

# ======================================
# Actuator Configuration (å¼€å‘å…¨å¼€)
# ======================================
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
management.health.mail.enabled=false
management.endpoint.restart.enabled=true

# ======================================
# Database Connection (å¼€å‘ä¼˜åŒ–)
# ======================================
# ğŸ”— è¿æ¥æ± é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒè¾ƒå°ï¼‰
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.connection-timeout=20000

# ======================================
# CORS Configuration (å¼€å‘å®½æ¾)
# ======================================
cors.allowed-origins=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173,http://localhost:8080
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
cors.allowed-headers=*
cors.allow-credentials=true
cors.max-age=3600

# ======================================
# Cache Configuration (å¼€å‘ç®€åŒ–)
# ======================================
spring.cache.type=simple

# ======================================
# Docker Compose Integration
# ======================================
spring.docker.compose.enabled=false 