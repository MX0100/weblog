# ======================================
# Production Environment Configuration
# ======================================
# This profile is activated when ENV=production

# ======================================
# APIè·¯å¾„å‰ç¼€ - ä¸CloudFronté…ç½®åŒ¹é…
# ======================================
server.servlet.context-path=/api

# ======================================
# Database Management (ç”Ÿäº§çº§)
# ======================================
# ğŸ”’ å®‰å…¨æ¨¡å¼ï¼šåªéªŒè¯è¡¨ç»“æ„ï¼Œä¸å…è®¸è‡ªåŠ¨ä¿®æ”¹
spring.jpa.hibernate.ddl-auto=validate
spring.sql.init.mode=never

# ğŸ“Š ç”Ÿäº§çº§æ•°æ®åº“é…ç½®
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.use_sql_comments=false

# ğŸ”„ Flyway æ•°æ®åº“è¿ç§»ç®¡ç†
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=true
spring.flyway.clean-disabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.table=schema_version
spring.flyway.baseline-version=1
spring.flyway.baseline-description=Initial baseline

# ======================================
# Development Tools (ç”Ÿäº§ç¯å¢ƒç¦ç”¨)
# ======================================
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false
spring.devtools.add-properties=false

# ======================================
# Logging Configuration (ç”Ÿäº§çº§)
# ======================================
logging.level.root=WARN
logging.level.io.github.mx0100.weblog=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.flywaydb=INFO

# ğŸ“ æ—¥å¿—æ–‡ä»¶é…ç½®
logging.file.name=/var/log/weblog/application.log
logging.file.max-size=100MB
logging.file.max-history=30
logging.logback.rollingpolicy.total-size-cap=10GB

# ======================================
# Security Configuration (ç”Ÿäº§çº§)
# ======================================
# ğŸ” å®‰å…¨å¤´è®¾ç½®
server.error.include-stacktrace=never
server.error.include-message=never
server.error.include-binding-errors=never

# ======================================
# Performance Configuration (ç”Ÿäº§çº§)
# ======================================
# ğŸš€ è¿æ¥æ± ä¼˜åŒ–
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.leak-detection-threshold=60000

# ğŸ“ˆ JPA æ€§èƒ½ä¼˜åŒ–
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# ======================================
# Monitoring & Health (ç”Ÿäº§çº§)
# ======================================
# ğŸ“Š Actuator é…ç½®
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.health.mail.enabled=false
management.health.diskspace.enabled=true
management.health.db.enabled=true

# ğŸ”§ åº”ç”¨ä¿¡æ¯
management.info.env.enabled=true
management.info.java.enabled=true
management.info.os.enabled=true

# ======================================
# Cache Configuration (ç”Ÿäº§çº§)
# ======================================
spring.cache.type=redis
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# ======================================
# CORS Configuration (ç”Ÿäº§çº§é™åˆ¶)
# ======================================
# ğŸ”’ é™åˆ¶è·¨åŸŸè®¿é—®
cors.allowed-origins=${CORS_ORIGINS:https://your-domain.com}
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=Authorization,Content-Type,X-Requested-With
cors.allow-credentials=true
cors.max-age=3600 