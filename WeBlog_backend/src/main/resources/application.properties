spring.application.name=WeBlog

# Server configuration
server.port=8080

# Mail configuration (you need to modify according to actual situation)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=your-email@gmail.com
spring.mail.password=your-app-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Logging configuration - controllable via environment variables
logging.level.org.springframework.web=${LOG_LEVEL:INFO}
logging.level.org.hibernate.SQL=${SQL_LOG_LEVEL:WARN}

# Data initialization configuration
spring.sql.init.mode=never
spring.sql.init.continue-on-error=false

# Disable Docker Compose integration (manually manage containers)
spring.docker.compose.enabled=false

# DevTools Configuration for Hot Reload - Enhanced for Docker environment
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.devtools.restart.poll-interval=1000
spring.devtools.restart.quiet-period=400
spring.devtools.livereload.port=35729

# Additional paths to watch for changes
spring.devtools.restart.additional-paths=src/main/java,src/main/resources

# Exclude files that should not trigger restart
spring.devtools.restart.exclude=META-INF/maven/**,META-INF/resources/**,resources/**,static/**,public/**,templates/**,**/*Test.class,**/*Tests.class

# Enable debug logging for DevTools
logging.level.org.springframework.boot.devtools=DEBUG

# Force polling mode for file watching in Docker environment
spring.devtools.restart.log-condition-evaluation-delta=false

# Database configuration - uses environment variables
# Defaults to postgres service for Docker Compose, localhost for local development
spring.datasource.url=jdbc:postgresql://${DB_HOST:postgres}:${DB_PORT:5432}/${DB_NAME:weblog}
spring.datasource.username=${DB_USER:weblog}
spring.datasource.password=${DB_PASSWORD:password}

# JPA configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=${SQL_SHOW:false}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=${SQL_FORMAT:false}

# Redis configuration - uses environment variables, defaults to Docker service names
spring.data.redis.host=${REDIS_HOST:redis}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.timeout=2000ms
